const transformFindAndModify = require( './findAndModify.js' );

module.exports = function transformSet( args ) {
    if ( !args[ 2 ] ) args[ 2 ] = {};

    if ( args[ 2 ].new === undefined )
        args[ 2 ].new = true;
    args[ 2 ].query = args[ 0 ];
    args[ 2 ].update = {
        $set: args[ 1 ]
    };
    args = [ args[ 2 ] ];

    return transformFindAndModify( args );

};
